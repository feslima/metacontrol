

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The “Differential Data” tab &mdash; Metacontrol 1.0.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/mtc.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The “Self-Optimizing Control” tab" href="soc_tab.html" />
    <link rel="prev" title="The “Reduced Space” tab" href="reduced_space_tab.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../index.html" class="icon icon-home"> Metacontrol
          

          
            
            <img src="../_static/mtc.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/mtc.html"><em>Metacontrol</em>  Methodology Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="gui_index.html">Metacontrol GUI Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="load_sim_tab.html">The “Load Simulation” tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="sampling_tab.html">The “Sampling” tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="metamodel_tab.html">The “Metamodel” tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimization_tab.html">The “Optimization” tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="reduced_space_tab.html">The “Reduced Space” tab</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">The “Differential Data” tab</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reduced-space-metamodel-training-panel">Reduced space metamodel training <em>Panel</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuring-your-kriging-metamodel">Configuring your kriging metamodel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#acessing-performance-of-your-reduced-space-metamodel">Acessing performance of your reduced-space metamodel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gradient-and-hessian-estimation-panel">Gradient and Hessian estimation <em>Panel</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#gradient-results-panel-and-hessian-results-panel">Gradient results <em>panel</em> and Hessian results <em>panel</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="soc_tab.html">The “Self-Optimizing Control” tab</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/tutorials.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/theory_index.html">Theoretical Backgrounds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zbibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Metacontrol</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="gui_index.html">Metacontrol GUI Manual</a> &raquo;</li>
        
      <li>The “Differential Data” tab</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/gui/diff_data_tab.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-differential-data-tab">
<h1>The “Differential Data” tab<a class="headerlink" href="#the-differential-data-tab" title="Permalink to this headline">¶</a></h1>
<p>At this tab you will extract the high-order data (Gradients and Hessians)
that are necessary in order to calculate the self-optimizing control structures using
the exact local method from <a class="bibtex reference internal" href="../zbibliography.html#alstad09" id="id1">[2]</a>.</p>
<p>The high-order data is calculated with
analytical expressions derived by <a class="bibtex reference internal" href="../zbibliography.html#dace" id="id2">[15]</a> and <a class="bibtex reference internal" href="../zbibliography.html#alves2018" id="id3">[3]</a>, using the kriging
metamodel built for the reduced space problem.</p>
<p>The aforementioned procedure is encapsulated in this tab. You will be able to:</p>
<ul class="simple">
<li><p>Generate the gradients and hessians, and inspect them.</p></li>
<li><p>Remove any CV candidate from the list of candidates if you want.</p></li>
</ul>
<p>Here is an overview of this tab, before you start using it:</p>
<div class="figure align-center" id="id5">
<img alt="../_images/diff_data_main.png" src="../_images/diff_data_main.png" />
<p class="caption"><span class="caption-number">Fig. 60 </span><span class="caption-text">Differential Data tab.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>There are four main panels on this tab</p>
<ul class="simple">
<li><p>Reduced space metamodel training <em>Panel</em></p></li>
<li><p>Gradient and Hessian estimation <em>Panel</em></p></li>
<li><p>Gradient results <em>panel</em> and Hessian results <em>panel</em></p></li>
</ul>
<div class="section" id="reduced-space-metamodel-training-panel">
<h2>Reduced space metamodel training <em>Panel</em><a class="headerlink" href="#reduced-space-metamodel-training-panel" title="Permalink to this headline">¶</a></h2>
<p>Under this panel, you are able to click on “Open training dialog” in order to
configure your reduced-space kriging metamodel.</p>
<div class="section" id="configuring-your-kriging-metamodel">
<h3>Configuring your kriging metamodel<a class="headerlink" href="#configuring-your-kriging-metamodel" title="Permalink to this headline">¶</a></h3>
<p>Click on “Open training dialog”:</p>
<div class="figure align-center" id="id6">
<img alt="../_images/diff_data_training_dialog.png" src="../_images/diff_data_training_dialog.png" />
<p class="caption"><span class="caption-number">Fig. 61 </span><span class="caption-text">Opening the kriging training dialog window.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>You will notice that the window that appears to you is exactly the same from
<a class="reference internal" href="metamodel_tab.html#metamodel-tab"><span class="std std-ref">The “Metamodel” tab</span></a>. Therefore the process of configuring your reduced-space
kriging metamodel is essentially the same.</p>
<div class="figure align-center" id="id7">
<img alt="../_images/diff_data_training_dialog_window.png" src="../_images/diff_data_training_dialog_window.png" />
<p class="caption"><span class="caption-number">Fig. 62 </span><span class="caption-text">Training dialog window.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>At the training dialog window, you will notice that only the Candidates that
were not active constraints are considered now. This happens because <em>Metacontrol</em>
automatically removes the variables that are nominally active (MVs and CVs) based on the
previous tab (Reduced Space tab). In addition, you can remove any of the remaining CVs, if you
want. Just <em>de-select</em> the box of the variable you want to remove:</p>
<div class="figure align-center" id="id8">
<img alt="../_images/diff_data_remove_cvs.png" src="../_images/diff_data_remove_cvs.png" />
<p class="caption"><span class="caption-number">Fig. 63 </span><span class="caption-text">Removing one variable from the CV candidates list (<em>fco2out</em> in this example).</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div>
<p>After configuring the hyperparameters estimates, choosing which CVs will be taken into acount in your
metamodel, you can click on “Generate metamodel” in order to inspect the validation metrics of your metamodel.</p>
</div>
<div class="section" id="acessing-performance-of-your-reduced-space-metamodel">
<h3>Acessing performance of your reduced-space metamodel<a class="headerlink" href="#acessing-performance-of-your-reduced-space-metamodel" title="Permalink to this headline">¶</a></h3>
<p>For the reduced-space metamodel, one additional metric has been added in order to help you to evaluate the
robustness of the metamodel generated. It corresponds to the objective function of the maximum likelihood estimation
from the work of <a class="bibtex reference internal" href="../zbibliography.html#dace" id="id4">[15]</a>. Values under 1e-5 will give robust estimation of the gradients and hessians. (Check <a class="reference internal" href="../index.html#our-papers"><span class="std std-ref">Our papers</span></a>
and the <a class="reference internal" href="../theory/theory_index.html#theory-tab"><span class="std std-ref">Theoretical Backgrounds</span></a> section where we give some examples and discuss the theoretical background in detail)</p>
<div class="figure align-center" id="id9">
<img alt="../_images/diff_data_dace_function.png" src="../_images/diff_data_dace_function.png" />
<p class="caption"><span class="caption-number">Fig. 64 </span><span class="caption-text">Evaluating reduced space kriging metamodel estimation capabilities. Highlighted in blue,
the value of the optimized objective function value, that results in the optimal hyperparameters estimation.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="gradient-and-hessian-estimation-panel">
<h2>Gradient and Hessian estimation <em>Panel</em><a class="headerlink" href="#gradient-and-hessian-estimation-panel" title="Permalink to this headline">¶</a></h2>
<p>After configuring the kriging metamodel options under the training
dialog window, you can click on “Estimate Gradient and Hessian”, to generate the
high-order data.</p>
<div class="figure align-center" id="id10">
<img alt="../_images/diff_data_high_order_data_gen.png" src="../_images/diff_data_high_order_data_gen.png" />
<p class="caption"><span class="caption-number">Fig. 65 </span><span class="caption-text">Generating high-order data.</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="gradient-results-panel-and-hessian-results-panel">
<h2>Gradient results <em>panel</em> and Hessian results <em>panel</em><a class="headerlink" href="#gradient-results-panel-and-hessian-results-panel" title="Permalink to this headline">¶</a></h2>
<p>After performing the previous step, you will notice that the panels for Gradients and Hessians are now
completed:</p>
<div class="figure align-center" id="id11">
<img alt="../_images/diff_data_completed.png" src="../_images/diff_data_completed.png" />
<p class="caption"><span class="caption-number">Fig. 66 </span><span class="caption-text">Generating high-order data.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<p>If you take a closer look, you will notice that the matrices are in a Dataframe format, making them easy to ready
and to understand each element of the matrices generated. Note that the elements are indexed using the aliases that you
created. For example, the gain between the unconstrained degree of freedom (<em>mccp</em>) and one CV candidate (<em>co2rrcv</em>) is easily
read:</p>
<div class="figure align-center" id="id12">
<img alt="../_images/diff_data_reading_gains.png" src="../_images/diff_data_reading_gains.png" />
<p class="caption"><span class="caption-number">Fig. 67 </span><span class="caption-text">Generating high-order data.</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>The same is true for every element of the gradients and hessians calculated.</p>
<p>After the procedure here described, you can go to the last tab: Self-Optimizing Control.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="soc_tab.html" class="btn btn-neutral float-right" title="The “Self-Optimizing Control” tab" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="reduced_space_tab.html" class="btn btn-neutral float-left" title="The “Reduced Space” tab" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Felipe Lima &amp; Victor Alves

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>